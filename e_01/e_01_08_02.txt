演習1-8-2
ALL述語による全称量化
作成日：2017年6月14日
作成者：浅田　知嗣

SELECT
*

FROM
Projects AS P1

WHERE
'1' = ALL (SELECT
	   CASE WHEN step_nbr <= 1 AND status = '完了' THEN '1'
		WHEN step_nbr >  1 AND status = '待機' THEN '1'
		ELSE '0' END
	   
	   FROM
	   Projects AS P2

	   WHERE
	   P1.project_id = P2.project_id
	   )
;

 project_id | step_nbr | status
------------+----------+--------
 CS300      |        0 | 完了
 CS300      |        1 | 完了
 CS300      |        2 | 待機
 CS300      |        3 | 待機